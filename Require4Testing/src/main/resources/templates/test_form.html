  <div class="contentWrapper test_edit">  
		<h1>Test bearbeiten</h1>
		
   		
   		<form action="#" th:action="@{/test/handleForm}" class="edit_form" th:object="${testDto}" method="post">
   			<input type="hidden" name="erstellerId" th:value="${currentUser.id}" />
   			<input type="hidden" th:if="${testDto.id != null}" th:field="*{id}"/>
   			
   			<div class="form_flex">
   				<p class="form_description">Allgemeine Informationen</p>
   				<div class="input_container two-column">
	   				<div th:if="${testDto.id != null}">
					    <p th:text="${test.nr}" class="chip"></p>
	   				</div>   				
	   				<div class="creator"  th:if="${testDto.id != null}">
	   					
			   		</div>  				
			   		<div>
		   				<label for="title">Titel:</label>
					    <input type="text" id="title" th:field="*{title}" />
						<div th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="error"></div>
	   				</div>
			    	<div>
			    		<label for="anforderung">Anforderung auswählen:</label>
					    <select id="anforderung" th:field="*{anforderungId}">
					        <option value="" disabled selected>Bitte wählen</option>
					        <option th:each="a : ${anforderungen}"
					                th:value="${a.id}"
					                th:text="${a.nr} + ' '+${a.title}">
					        </option>
					    </select>
					    <div th:if="${#fields.hasErrors('anforderungId')}" th:errors="*{anforderungId}" class="error"></div>
			    	</div>
		    	</div>
			</div>
   		
   			<span class="container_divider"></span>
		   
		   <div class="form_flex">
       			<p class="form_description">Beschreibung & Kontext</p>
       			<div class="input_container">
       				<label for="beschreibung">Beschreibung:</label>
			    	<textarea id="beschreibung" th:field="*{beschreibung}"></textarea>
			    	<div th:if="${#fields.hasErrors('beschreibung')}" th:errors="*{beschreibung}" class="error"></div>
					
					<label for="testdaten">Testdaten:</label>
				    <input type="text" id="testdaten" th:field="*{testdaten}"  />
				    <div th:if="${#fields.hasErrors('testdaten')}" th:errors="*{testdaten}" class="error"></div>
				    
				    
				    <label for="notizen">weitere Notizen:</label>
		   			<textarea id="notizen" th:field="*{notizen}" ></textarea>
		   			<div th:if="${#fields.hasErrors('notizen')}" th:errors="*{notizen}" class="error"></div>
		  		 </div>
			</div>
		   
			<span class="container_divider"></span>
   		
	   		<div class="form_flex">
	       			<p class="form_description">Testdetails</p>
	       			<div class="input_container">
	       				<label for="neuesKriterium">Testschritte</label>
					   	<div id="stepContainer" >
					    	<div class="schritte dynamicInput"  th:each="schritt, iterStat : *{testschritte}"  draggable="true">
						    	<input type="hidden" th:field="*{testschritte[__${iterStat.index}__].id}"/>
						        <input type="hidden" th:value="*{testschritte[__${iterStat.index}__].stepNumber}" class="schritt"/>
						        <input type="text" th:field="*{testschritte[__${iterStat.index}__].beschreibung}"  class="schrittvalue" oninput="updateReihenfolge()"/>
					       		<button type="button" onclick="deleteSchritt(this.parentElement)"><i class="fa-solid fa-trash"></i></button>
					    	</div>
				        </div>
						
			
		   				
						<button type="button" id="addStepButton" value="hinzufuegen" class="schrittBtn customBtn">
						<i class="fa-solid fa-plus"></i>
						Neuen Schritt hinzufügen</button>
						<input type='hidden' id='reihenfolge' name='reihenfolge'/>
						
						<label for="ergebnis">Erwartetes Ergebnis:</label>
		    			<textarea id="ergebnis" th:field="*{erwartetesErgebnis}"></textarea>
		    			<div th:if="${#fields.hasErrors('erwartetesErgebnis')}" th:errors="*{erwartetesErgebnis}" class="error"></div>
						
	       			</div>
	       		</div>
   		
	   		  <div class="float-right">
			 	<button th:if="${testDto.id != null}" type="submit" class="secondaryBtn" name="action" value="loeschen" onclick="return confirm('Sind Sie sicher?');">Löschen</button>
			    <button type="submit" class="primaryBtn"  name="action" value="speichern">Testfall speichern</button>
			    
			   </div>
   		
 
		   
		</form>
		
		
	</div>
		
  